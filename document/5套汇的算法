如果我们说货币 A 到货币 B 的汇率是 10，意思就是 1 单位的货币 A 可以换
10 单位货币 B。如果我们把每种货币视为⼀幅图的顶点，货币之间的汇率
视为加权有向边，那么整个汇率市场就是⼀幅「完全加权有向图」。


⼀旦把现实⽣活中的情景抽象成图，就有可能运⽤算法解决⼀些问题。⽐如
说图中可能存在下⾯的情况：


图中的加权有向边代表汇率，我们可以发现如果把 100 单位的货币 A 换成
B，再换成 C，最后换回 A，就可以得到 100×0.9×0.8×1.4 = 100.8 单位的
A！如果交易的⾦额⼤⼀些的话，赚的钱是很可观的，这种空⼿套⽩狼的操作就是套汇。

现实中交易会有种种限制，⽽且市场瞬息万变，但是套汇的利润还是很⾼
的，关键就在于如何快速找到这种套汇机会呢？

借助图的抽象，我们发现套汇机会其实就是⼀个环，且这个环上的权重之积
⼤于 1，只要在顺着这个环交易⼀圈就能空⼿套⽩狼。

图论中有⼀个经典算法叫做 Bellman-Ford 算法，可以⽤于寻找负权重环。
对于我们说的套汇问题，可以先把所有边的权重 w 替换成 -ln(w)，这样「寻
找权重乘积⼤于 1 的环」就转化成了「寻找权重和⼩于 0 的环」，就可以使
⽤ Bellman-Ford 算法在 O(EV) 的时间内寻找负权重环，也就是寻找套汇机会。


